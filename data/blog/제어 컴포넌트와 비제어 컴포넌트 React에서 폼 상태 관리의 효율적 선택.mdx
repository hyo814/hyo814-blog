---
title: 제어 컴포넌트와 비제어 컴포넌트: React에서 폼 상태 관리의 효율적 선택
date: '2023-11-19'
tags: [form]
draft: false
summary: 'React에서 폼 상태 관리의 효율적 선택'
---

# 제어 컴포넌트와 비제어 컴포넌트: React에서 폼 상태 관리의 효율적 선택

React에서 상태 관리의 복잡성을 줄이기 위해 컴포넌트를 비제어(Uncontrolled) 컴포넌트로 사용할 수 있는 상황과, 제어(Control) 컴포넌트로 사용할 수 있는 상황을 비교하여 설명해주세요.

​

질문의도 입니다!

​

제어 컴포넌트와 비제어 컴포넌트의 차이점과 사용 시점을 이해하고 있는지 평가합니다. 폼 요소의 복잡성과 상태 관리 비용을 줄이기 위해 각 접근 방식을 어떻게 선택하고, 비제어 컴포넌트를 사용할 때 발생할 수 있는 문제(데이터의 동기화 어려움 등)의 해결 방법응 설명할 수 있는지를 확인합니다.

### 제어 컴포넌트(Control Components)와 비제어 컴포넌트(Uncontrolled Components)의 차이점

1. **제어 컴포넌트**:
   - 입력값을 React의 상태(state)로 관리하는 컴포넌트입니다.
   - 폼 요소의 값은 컴포넌트의 `state`와 연동되어 있으며, 값을 변경할 때마다 `onChange` 이벤트 핸들러를 통해 `state`를 업데이트합니다.
   - React가 값의 상태를 관리하기 때문에 UI와 상태 간 동기화가 명확합니다.
2. **비제어 컴포넌트**:
   - React의 상태를 사용하지 않고, DOM 요소 자체에서 값을 관리하는 컴포넌트입니다.
   - 폼 요소의 `ref`를 사용하여 DOM에 직접 접근해 값을 가져옵니다.
   - DOM 자체에서 값이 관리되기 때문에, React와의 값 동기화는 이루어지지 않습니다.

### 사용 시점 및 비교

1. **제어 컴포넌트 사용 시점**:

   - **상태 관리가 필요할 때**: 사용자가 입력한 값이 즉시 React 상태로 반영되어야 하거나, 입력값에 대한 즉각적인 검증(validation)이 필요한 경우에 적합합니다. 예를 들어, 실시간 폼 검증, 입력값에 따른 다른 UI 요소가 동적으로 변경되어야 하는 상황에서는 제어 컴포넌트를 사용하는 것이 효율적입니다.
   - **UI와 상태의 동기화가 중요한 경우**: 폼의 값이 부모 컴포넌트 또는 다른 컴포넌트와 공유되어야 하거나, 여러 컴포넌트 간 데이터 동기화가 필요한 경우, 제어 컴포넌트가 적합합니다.
   - **입력값을 수정하는 논리가 복잡한 경우**: 여러 입력 필드가 상호작용하는 복잡한 폼에서는 제어 컴포넌트를 사용하여 각 필드의 값을 쉽게 관리하고, 입력값을 즉시 변경할 수 있습니다.

   ```jsx
   const ControlledInput = () => {
     const [value, setValue] = useState('')

     const handleChange = (e) => {
       setValue(e.target.value)
     }

     return <input type="text" value={value} onChange={handleChange} />
   }
   ```

2. **비제어 컴포넌트 사용 시점**:

   - **폼의 상태 관리가 복잡하지 않을 때**: 폼 요소가 많지만, 입력값을 실시간으로 관리할 필요가 없고, 폼을 제출할 때만 값을 가져오면 되는 경우 비제어 컴포넌트를 사용할 수 있습니다. 예를 들어, 사용자가 폼을 제출하기 전에 상태 관리가 필요하지 않은 단순한 폼에서는 비제어 컴포넌트가 적합합니다.
   - **최소한의 상태 관리로 성능 최적화가 필요할 때**: 상태 업데이트가 빈번하게 발생하는 상황에서는 비제어 컴포넌트를 사용하면 React의 상태 업데이트 비용을 줄일 수 있습니다.
   - **DOM 접근이 간편할 때**: 외부 라이브러리와 연동하거나, 직접 DOM에 접근해야 하는 경우에는 비제어 컴포넌트를 사용하는 것이 유리합니다.

   ```jsx
   const UncontrolledInput = () => {
     const inputRef = useRef(null)

     const handleSubmit = () => {
       alert(inputRef.current.value)
     }

     return (
       <>
         <input type="text" ref={inputRef} />
         <button onClick={handleSubmit}>Submit</button>
       </>
     )
   }
   ```

### 비제어 컴포넌트 사용 시 발생할 수 있는 문제와 해결 방법

1. **데이터의 동기화 어려움**:

   - 비제어 컴포넌트는 DOM에 의존하여 값을 관리하기 때문에, 여러 컴포넌트 간 데이터 동기화가 어려울 수 있습니다. 특히 여러 입력 필드에서 동시에 값을 받아 상태를 동기화해야 하는 상황에서는 비제어 컴포넌트를 사용하는 것이 적합하지 않습니다.

   **해결 방법**: 입력값의 실시간 동기화가 필요한 경우에는 비제어 컴포넌트를 피하고 제어 컴포넌트를 사용하는 것이 바람직합니다. 비제어 컴포넌트는 폼 제출 후 데이터를 처리할 때 유용하지만, 데이터 동기화가 필요한 경우에는 제어 컴포넌트를 선택해야 합니다.

2. **폼 검증의 어려움**:

   - 비제어 컴포넌트는 상태가 React와 분리되어 있기 때문에 실시간 검증(validation)이 어렵습니다. 예를 들어, 사용자가 입력 중인 데이터를 즉시 검증할 필요가 있을 때 비제어 컴포넌트는 적합하지 않습니다.

   **해결 방법**: 실시간 검증이 필요한 경우에는 제어 컴포넌트를 사용하여 `state`를 업데이트하면서 입력값을 검증하는 것이 적합합니다. 만약 검증이 제출 시점에만 필요하다면, 비제어 컴포넌트를 사용하고 `onSubmit` 이벤트에서 데이터를 수집한 후 검증할 수 있습니다.

3. **성능 최적화 문제**:

   - 많은 입력 필드를 실시간으로 관리하는 제어 컴포넌트는 `state` 업데이트가 빈번하게 발생하여 성능 저하를 유발할 수 있습니다.

   **해결 방법**: 입력값을 실시간으로 관리할 필요가 없는 단순한 폼에서는 비제어 컴포넌트를 사용하여 불필요한 상태 업데이트를 줄일 수 있습니다.

### 결론

- **제어 컴포넌트**는 상태 동기화, 실시간 검증, 복잡한 입력 논리가 필요한 경우에 적합하며, React의 상태 관리를 통해 UI와 데이터 간의 일관성을 유지할 수 있습니다.
- **비제어 컴포넌트**는 입력값을 실시간으로 관리할 필요가 없고 폼 제출 시점에만 데이터를 처리하는 상황에서 성능 최적화에 도움이 됩니다.
- 각 상황에 따라 제어 및 비제어 컴포넌트를 적절히 선택하여 복잡성을 줄이는 것이 중요하며, 비제어 컴포넌트 사용 시 데이터 동기화 문제를 고려해야 합니다.

이 방식으로 비제어와 제어 컴포넌트 간의 차이와 사용 시점을 이해하고, 실무에서 적절하게 선택하는 능력을 평가할 수 있습니다.

---

React에서 폼을 처리할 때, 우리는 주로 제어 컴포넌트(Controlled Components)와 비제어 컴포넌트(Uncontrolled Components) 중 하나를 선택해야 합니다. 각각의 방식은 상태 관리 방법과 사용 목적에 따라 적절히 사용되어야 하며, 상황에 맞는 선택이 성능 최적화와 유지보수에 중요한 영향을 미칩니다. 이 글에서는 제어 컴포넌트와 비제어 컴포넌트의 차이점과 각 사용 시점을 살펴보고, 비제어 컴포넌트를 사용할 때 발생할 수 있는 문제 해결 방안을 제시합니다.

### 제어 컴포넌트(Controlled Components)

제어 컴포넌트는 React 상태(state)를 통해 입력값을 관리하는 방식입니다. 폼 요소의 값이 컴포넌트 상태와 연동되어 있으며, 사용자가 입력을 변경할 때마다 `onChange` 이벤트 핸들러를 통해 상태를 업데이트합니다. React는 상태를 통해 입력값을 제어하므로, UI와 데이터 간의 일관성을 유지할 수 있습니다.

### 특징:

- **상태를 통해 값 관리**: 입력값은 React 상태로 관리되며, 상태가 변경될 때마다 UI가 다시 렌더링됩니다.
- **실시간 검증 및 동기화**: 사용자가 값을 입력하는 즉시 검증하거나, 다른 컴포넌트와 데이터를 동기화할 수 있습니다.

### 사용 시점:

- **상태 관리가 필요한 경우**: 입력값을 실시간으로 반영하고, 다른 UI 요소와 동기화해야 하는 경우.
- **복잡한 폼 로직**: 여러 입력 필드가 상호작용하거나, 입력값에 따라 다른 동작을 수행하는 경우.

### 예시 코드:

```jsx
const ControlledInput = () => {
  const [value, setValue] = useState('')

  const handleChange = (e) => {
    setValue(e.target.value)
  }

  return <input type="text" value={value} onChange={handleChange} />
}
```

### 비제어 컴포넌트(Uncontrolled Components)

비제어 컴포넌트는 React 상태를 사용하지 않고, DOM에서 직접 값을 관리합니다. `ref`를 사용하여 폼 요소에 접근하고, 폼 제출 시 값을 수집합니다. 즉, 입력값의 상태는 DOM에 저장되고, React는 그 값을 별도로 추적하지 않습니다.

### 특징:

- **DOM에서 값 관리**: 입력값을 직접 상태로 관리하지 않고, DOM에서 참조를 통해 접근합니다.
- **성능 최적화**: 상태 업데이트가 빈번하게 발생하지 않으므로 성능에 유리한 경우가 있습니다.

### 사용 시점:

- **단순한 폼 처리**: 실시간 상태 관리가 필요하지 않고, 폼 제출 시점에만 데이터를 처리해야 하는 경우.
- **최소한의 상태 관리**: 복잡한 상태 관리가 필요 없고, 성능을 고려해야 할 때.

### 예시 코드:

```jsx
const UncontrolledInput = () => {
  const inputRef = useRef(null)

  const handleSubmit = () => {
    alert(inputRef.current.value)
  }

  return (
    <>
      <input type="text" ref={inputRef} />
      <button onClick={handleSubmit}>Submit</button>
    </>
  )
}
```

### 제어 컴포넌트와 비제어 컴포넌트 비교

| 특징               | 제어 컴포넌트                  | 비제어 컴포넌트                  |
| ------------------ | ------------------------------ | -------------------------------- |
| **상태 관리**      | React의 상태를 통해 관리       | DOM에서 직접 관리                |
| **동기화**         | 실시간으로 상태와 동기화       | 폼 제출 시점에만 값 처리         |
| **복잡한 폼 로직** | 복잡한 폼 처리에 적합          | 단순한 폼 처리에 적합            |
| **성능**           | 상태 업데이트로 성능 저하 가능 | 상태 업데이트 최소화로 성능 향상 |

### 비제어 컴포넌트 사용 시 발생할 수 있는 문제와 해결 방법

1.  **데이터 동기화 문제**:
    비제어 컴포넌트는 DOM에서 값을 관리하기 때문에, 여러 컴포넌트 간의 데이터 동기화가 어렵습니다. 특히 여러 입력 필드의 값이 상호 의존적인 경우, 비제어 컴포넌트를 사용하는 것이 적합하지 않을 수 있습니다.

        **해결 방법**: 동기화가 필요한 경우 제어 컴포넌트를 사용하는 것이 바람직합니다. 폼 제출 후에만 데이터를 처리하면 되는 경우라면 비제어 컴포넌트를 선택할 수 있습니다.

2.  **실시간 검증의 어려움**:
    실시간으로 입력값을 검증해야 하는 경우, 비제어 컴포넌트는 적합하지 않습니다. 비제어 컴포넌트는 입력값을 DOM에서 관리하기 때문에, 즉시 검증하기가 어렵습니다.

        **해결 방법**: 실시간 검증이 필요한 경우 제어 컴포넌트를 사용하여 상태를 추적하며 검증을 수행할 수 있습니다.

3.  **성능 문제**:
    제어 컴포넌트는 상태 업데이트가 빈번하게 발생하기 때문에, 입력 필드가 많은 경우 성능 저하가 발생할 수 있습니다.

        **해결 방법**: 폼의 입력값을 실시간으로 관리할 필요가 없다면, 비제어 컴포넌트를 사용하여 성능을 최적화할 수 있습니다.

### 결론

제어 컴포넌트는 복잡한 폼 로직과 실시간 검증, 데이터 동기화가 필요한 경우 적합하며, UI와 데이터 상태를 일관되게 유지할 수 있습니다. 반면, 비제어 컴포넌트는 단순한 폼에서 성능을 최적화할 수 있는 좋은 방법이지만, 데이터 동기화나 실시간 검증이 필요한 경우에는 적합하지 않을 수 있습니다. 각 컴포넌트의 특성과 상황을 고려하여 적절하게 선택하는 것이 중요합니다.

---

이 글을 통해 제어 컴포넌트와 비제어 컴포넌트를 효과적으로 이해하고, 프로젝트에서 상황에 맞게 선택하는 능력을 키울 수 있을 것입니다.
