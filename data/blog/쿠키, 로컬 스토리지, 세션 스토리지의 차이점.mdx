---
title: 쿠키, 로컬 스토리지, 세션 스토리지의 차이점과 보안: 언제, 어떻게, 그리고 왜 사용하는가?
date: '2024-04-14'
tags: [쿠키, 로컬 스토리지, 세션 스토리지]
draft: false
summary: '쿠키, 로컬 스토리지, 세션 스토리지'
---

# 쿠키, 로컬 스토리지, 세션 스토리지의 차이점과 보안: 언제, 어떻게, 그리고 왜 사용하는가?

쿠키와 로컬 스토리지(Local Storage), 세션 스토리지(Session Storage)의 차이점을 설명하고, 각각을 사용하는 적절한 시점에 대해 설명해주세요. 그리고 보안 측면에서 쿠키와 로컬 스토리지를 사용할 때 주의해야 할 점과 이를 안전하게 사용하는 방법에 대해 설명해주세요.

​

질문의도 입니다.

​

쿠키, 로컬 스토리지, 세션 스토리지의 차이점과 사용 목적에 대한 이해를 평가합니다. 각 저장소의 보안 측면(예: XSS 공격 위험, 만료 정책 등)과 안전하게 사용하기 위한 방안을 명확히 설명할 수 있는지를 확인하는 문제입니다.

---

### 1. 쿠키(Cookie)

- **용도**: 서버와 클라이언트 간의 상태를 저장하는 데 주로 사용됩니다.
- **유지 기간**: 개발자가 설정한 만료 날짜까지 유지되며, 브라우저가 종료되어도 만료 기간이 지나지 않으면 삭제되지 않습니다.
- **크기 제한**: 하나의 쿠키당 약 4KB로 용량이 제한됩니다.
- **전송 방식**: 쿠키는 HTTP 요청과 함께 서버로 자동 전송됩니다.
- **적절한 사용 시점**: 사용자의 인증 정보나 세션 정보 등을 저장할 때 주로 사용합니다.

### 2. 로컬 스토리지(Local Storage)

- **용도**: 클라이언트 측에서 데이터를 영구적으로 저장할 수 있는 공간으로, 브라우저가 종료되더라도 데이터가 유지됩니다.
- **유지 기간**: 사용자가 명시적으로 삭제하기 전까지 계속 유지됩니다.
- **크기 제한**: 약 5~10MB의 데이터를 저장할 수 있습니다.
- **전송 방식**: 서버로 자동으로 전송되지 않으며, 자바스크립트로만 접근 가능합니다.
- **적절한 사용 시점**: 영구적인 설정 값(예: 다크 모드 설정)이나 사용자 선호 데이터 등을 저장할 때 유용합니다.

### 3. 세션 스토리지(Session Storage)

- **용도**: 브라우저의 세션 동안만 데이터를 유지하는 저장소로, 브라우저 또는 탭이 닫히면 데이터가 삭제됩니다.
- **유지 기간**: 세션이 종료되면 자동으로 삭제됩니다.
- **크기 제한**: 로컬 스토리지와 비슷하게 약 5~10MB 데이터를 저장할 수 있습니다.
- **전송 방식**: 서버로 자동으로 전송되지 않으며, 자바스크립트로만 접근 가능합니다.
- **적절한 사용 시점**: 특정 세션 동안만 유지되는 임시 데이터(예: 한 페이지 내에서의 사용자 상태)를 저장할 때 사용됩니다.

---

### 보안 측면에서의 주의점 및 안전하게 사용하는 방법

1. **쿠키**
   - **주의점**: 쿠키는 XSS(Cross-Site Scripting) 공격에 취약할 수 있습니다. 공격자가 자바스크립트를 통해 쿠키를 탈취할 수 있습니다.
   - **안전한 사용 방법**:
     - **HttpOnly**: 쿠키에 HttpOnly 속성을 추가해 자바스크립트로 접근하지 못하도록 설정.
     - **Secure**: 쿠키를 HTTPS 연결에서만 전송되도록 `Secure` 속성 설정.
     - **SameSite**: 쿠키의 교차 사이트 요청을 방지하기 위해 `SameSite` 속성 설정.
2. **로컬 스토리지**
   - **주의점**: 로컬 스토리지는 XSS 공격에 매우 취약합니다. 만약 공격자가 자바스크립트로 로컬 스토리지에 접근하면 중요한 정보가 노출될 수 있습니다.
   - **안전한 사용 방법**:
     - 중요한 정보를 로컬 스토리지에 저장하지 않는 것이 최선.
     - XSS 방어를 위해 철저한 입력 검증과 컨텐츠 보안 정책(CSP)을 설정.
     - 민감한 데이터는 암호화하여 저장.

---

웹 개발을 하다 보면 클라이언트 측에서 데이터를 저장해야 하는 경우가 자주 발생합니다. 이때 주로 사용되는 방법은 **쿠키(Cookie)**, **로컬 스토리지(Local Storage)**, **세션 스토리지(Session Storage)**입니다. 이 세 가지 저장 방식의 차이점과 각각의 적절한 사용 시점, 그리고 보안 측면에서 주의해야 할 사항들을 정리해보겠습니다.

### 1. 쿠키(Cookie)

쿠키는 웹 애플리케이션과 서버 간의 상태 정보를 저장하고, 그 데이터를 브라우저를 통해 자동으로 전송하는 방식입니다.

### 주요 특징

- **유지 기간**: 쿠키는 개발자가 설정한 만료 날짜까지 브라우저에 남아있습니다. 브라우저를 종료해도 만료 기간이 지나지 않으면 삭제되지 않습니다.
- **저장 용량**: 쿠키는 하나당 최대 약 4KB까지 데이터를 저장할 수 있습니다.
- **서버 전송**: 쿠키는 사용자가 요청을 보낼 때마다 자동으로 서버로 전송됩니다.
- **적절한 사용 시점**: 주로 사용자의 세션 정보, 인증 정보 등과 같이 서버와 연동해야 할 데이터 저장에 유용합니다.

### 보안 측면에서의 주의점

쿠키는 보안 공격, 특히 **XSS(크로스 사이트 스크립팅)** 공격에 취약할 수 있습니다. 공격자는 자바스크립트를 통해 쿠키 데이터를 탈취할 수 있으므로, 민감한 정보는 쿠키에 저장하지 않는 것이 중요합니다.

### 안전하게 사용하는 방법

- **HttpOnly 속성**: 이 속성을 설정하면 자바스크립트에서 쿠키에 접근할 수 없도록 막아 XSS 공격을 방어할 수 있습니다.
- **Secure 속성**: HTTPS 연결을 통해서만 쿠키가 전송되도록 하여 네트워크 공격으로부터 보호합니다.
- **SameSite 속성**: 쿠키가 교차 사이트 요청에서 사용되지 않도록 SameSite 옵션을 설정하여 CSRF(Cross-Site Request Forgery) 공격을 방지할 수 있습니다.

---

### 2. 로컬 스토리지(Local Storage)

로컬 스토리지는 HTML5에서 제공하는 클라이언트 측 저장 방식으로, 브라우저가 종료되어도 데이터가 계속 유지됩니다.

### 주요 특징

- **유지 기간**: 사용자가 명시적으로 삭제하지 않는 한 영구적으로 데이터를 저장할 수 있습니다.
- **저장 용량**: 쿠키보다 훨씬 큰 약 5~10MB 정도의 데이터를 저장할 수 있습니다.
- **서버 전송 없음**: 로컬 스토리지는 서버와 데이터를 자동으로 주고받지 않으며, 자바스크립트를 통해서만 접근 가능합니다.
- **적절한 사용 시점**: 영구적으로 저장해야 하는 사용자의 설정 값(예: 다크 모드, 사용자 선호도) 등을 저장하는 데 적합합니다.

### 보안 측면에서의 주의점

로컬 스토리지는 자바스크립트를 통해서만 접근할 수 있으므로, XSS 공격에 매우 취약합니다. 공격자가 악의적인 스크립트를 삽입해 로컬 스토리지의 데이터에 접근하면 중요한 정보가 유출될 수 있습니다.

### 안전하게 사용하는 방법

- 민감한 정보는 로컬 스토리지에 저장하지 말고, 필요한 경우 데이터를 암호화하여 저장합니다.
- XSS 방어를 위해 철저한 **입력 검증**과 **CSP(Content Security Policy)** 설정을 통해 악의적인 스크립트 삽입을 방지해야 합니다.

---

### 3. 세션 스토리지(Session Storage)

세션 스토리지는 로컬 스토리지와 유사하지만, 세션이 종료되면 데이터가 사라지는 방식입니다.

### 주요 특징

- **유지 기간**: 현재 탭이나 브라우저의 세션이 종료되면 데이터가 자동으로 삭제됩니다.
- **저장 용량**: 로컬 스토리지와 마찬가지로 약 5~10MB 정도의 데이터를 저장할 수 있습니다.
- **서버 전송 없음**: 로컬 스토리지와 동일하게 서버로 자동 전송되지 않으며, 자바스크립트를 통해 접근 가능합니다.
- **적절한 사용 시점**: 세션이 유지되는 동안만 필요하고 브라우저를 닫으면 사라져야 하는 데이터(예: 페이지 내 사용자 상태)를 저장할 때 사용합니다.

---

### 결론

쿠키, 로컬 스토리지, 세션 스토리지는 각각의 특성과 적절한 사용 시점이 다릅니다. 쿠키는 서버와의 데이터를 주고받는 데 주로 사용되며, 로컬 스토리지는 영구적인 데이터 저장, 세션 스토리지는 세션이 유지되는 동안만 필요한 데이터를 저장할 때 유용합니다.

하지만 중요한 점은 보안입니다. 쿠키나 로컬 스토리지를 사용할 때는 보안 취약점, 특히 **XSS** 공격에 주의해야 하며, 안전한 속성 설정과 데이터 암호화 등의 방법을 통해 데이터를 보호해야 합니다.
