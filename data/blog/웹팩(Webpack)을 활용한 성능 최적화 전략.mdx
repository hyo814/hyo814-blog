# 웹팩(Webpack)을 활용한 성능 최적화 전략

9월 13일 프론트엔드 문제입니다!

​

웹팩의 코드 분할과 트리 셰이킹 기능에 대해 설명하고, 이를 활용하여 프로젝트 성능을 최적화한 구체적인 사례를 설명해 주세요. 또한, 번들 크기 최적화를 위해 추가적으로 사용할 수 있는 고급 기법(예: dynamic imports, bundle analyzers 등)을 설명하고, 실제 프로젝트에서 이를 어떻게 적용했는지 얘기해주세요.

​

질문의도 입니다!

​

웹팩(Webpack)의 고급 기능인 코드 분할(Code Splitting)과 트리 셰이킹(Tree Shaking)을 제대로 이해하고, 이를 활용하여 프로젝트 성능을 최적화할 수 있는 능력을 평가하려는 목적입니다.

---

### 모범 답안

**웹팩(Webpack)의 코드 분할과 트리 셰이킹 기능 설명**

웹팩은 모듈 번들러로, 여러 파일을 하나의 번들로 묶는 기능을 제공합니다. 그러나 모든 파일을 하나의 번들로 묶으면 불필요한 코드를 로딩하거나 대용량 파일이 생성되어 성능 문제가 발생할 수 있습니다. 이를 해결하기 위해 웹팩은 **코드 분할(Code Splitting)**과 **트리 셰이킹(Tree Shaking)** 기능을 지원합니다.

1. **코드 분할(Code Splitting)**

   코드 분할은 애플리케이션 코드를 여러 개의 작은 파일(번들)로 분리하여 필요한 시점에 필요한 코드만 로딩하는 방식입니다. 이를 통해 초기 로딩 속도를 개선할 수 있습니다. 코드 분할은 정적(Static)과 동적(Dynamic) 방식으로 나뉩니다.

   - **정적 코드 분할**: 엔트리 포인트나 특정 라이브러리를 별도의 번들로 분리합니다. `optimization.splitChunks` 옵션을 통해 설정합니다.
   - **동적 코드 분할**: 런타임에서 동적으로 필요한 모듈을 로드하는 방식으로, `import()` 문법을 사용하여 구현할 수 있습니다. 이를 통해 필요한 시점에 코드가 로딩되어 성능을 최적화합니다.

2. **트리 셰이킹(Tree Shaking)**

   트리 셰이킹은 애플리케이션 코드에서 사용되지 않는 불필요한 코드를 제거하는 최적화 기법입니다. 주로 ES6 모듈 시스템의 `import`와 `export`를 기반으로 작동하며, 사용되지 않는 코드를 번들에서 자동으로 제외하여 번들 크기를 줄여줍니다. 웹팩은 이 과정을 통해 전체 번들 크기를 줄이고, 불필요한 자바스크립트 코드가 네트워크 전송이나 실행되는 것을 방지합니다.

---

**프로젝트 성능 최적화 사례**

저는 실제 프로젝트에서 대규모 라이브러리를 사용하는 경우 성능 최적화를 위해 **코드 분할**과 **트리 셰이킹**을 적극적으로 활용했습니다. 특히, React 기반 프로젝트에서 초기에 모든 페이지와 컴포넌트를 한 번에 로딩하는 문제가 발생했는데, 이를 코드 분할과 트리 셰이킹을 통해 해결했습니다.

1. **코드 분할 적용 사례**:

   프로젝트의 페이지마다 각각의 번들을 생성하여 라우팅 시 해당 페이지에 필요한 번들만 로드되도록 구현했습니다. 동적 코드 분할을 사용하여 `import()`를 활용한 동적 로딩을 적용했고, `React.lazy`와 `Suspense`를 사용해 컴포넌트 레벨에서 코드 분할을 처리했습니다. 이를 통해 초기 로딩 시간을 30% 이상 줄일 수 있었습니다.

2. **트리 셰이킹 적용 사례**:

   사용하지 않는 라이브러리나 유틸리티 함수들이 번들에 포함되는 문제를 해결하기 위해 웹팩의 트리 셰이킹 기능을 활성화했습니다. 불필요한 코드를 자동으로 제거하여 번들 크기를 대폭 줄였습니다. 특히 lodash 같은 유틸리티 라이브러리는 필요한 모듈만 로딩되도록 최적화했습니다.

---

**번들 크기 최적화를 위한 고급 기법**

1. **Dynamic Imports (동적 로딩)**:

   `import()`를 사용해 런타임에 필요한 모듈만 로딩함으로써, 번들 크기를 줄이고 초기 로딩 속도를 개선합니다. 이를 통해 페이지 로딩 시간과 사용자가 느끼는 성능을 개선할 수 있었습니다.

2. **Bundle Analyzer**:

   웹팩의 `webpack-bundle-analyzer` 플러그인을 사용해 번들의 크기를 시각적으로 분석하여, 어떤 모듈이 가장 많은 공간을 차지하는지 확인하고, 이를 기준으로 불필요한 라이브러리나 코드를 제거했습니다. 예를 들어, 중복된 모듈이나 사용되지 않는 라이브러리를 분석해 최적화할 수 있었습니다.

3. **Tree Shaking**:

   트리 셰이킹을 활용하여 사용되지 않는 코드를 제거하고, ES6 모듈 시스템을 이용해 모듈을 정확히 관리하여 최적화했습니다.

---

웹 애플리케이션이 점점 복잡해지면서 성능 최적화는 개발자들이 반드시 고려해야 할 중요한 요소가 되었습니다. 웹팩(Webpack)은 자바스크립트 모듈 번들러로, 애플리케이션을 효율적으로 관리할 수 있도록 다양한 기능을 제공합니다. 그중에서도 **코드 분할(Code Splitting)**과 **트리 셰이킹(Tree Shaking)** 기능은 번들 크기를 줄이고, 불필요한 코드를 제거하여 웹 애플리케이션 성능을 크게 개선할 수 있습니다.

### 1. 코드 분할(Code Splitting)으로 초기 로딩 시간 단축

코드 분할은 웹팩이 제공하는 강력한 기능 중 하나로, 애플리케이션을 여러 개의 작은 번들로 분리하여 필요한 시점에만 필요한 코드만 로드할 수 있게 해줍니다. 이를 통해 초기 로딩 시간과 네트워크 자원 낭비를 크게 줄일 수 있습니다.

**정적 코드 분할**은 `optimization.splitChunks` 옵션을 통해 설정할 수 있으며, 주로 라이브러리나 공통 모듈을 별도의 번들로 분리하는 데 사용됩니다. 반면, **동적 코드 분할**은 `import()` 문법을 사용해 필요한 시점에만 로드하는 방식입니다. 예를 들어, React의 `React.lazy`와 `Suspense`를 이용하면, 페이지나 컴포넌트를 동적으로 로딩할 수 있습니다.

```
import React, { Suspense } from 'react';

const LazyComponent = React.lazy(() => import('./MyComponent'));

function App() {
  return (
    <div>
      <Suspense fallback={<div>Loading...</div>}>
        <LazyComponent />
      </Suspense>
    </div>
  );
}

```

### 2. 트리 셰이킹(Tree Shaking)으로 불필요한 코드 제거

트리 셰이킹은 웹팩이 애플리케이션에서 사용되지 않는 코드를 자동으로 제거하는 기법입니다. 주로 ES6 모듈 시스템을 사용한 프로젝트에서 유용하게 작동하며, 번들 크기를 줄이는 데 크게 기여합니다. 예를 들어, lodash 같은 유틸리티 라이브러리는 필요한 함수만 선택적으로 불러와 트리 셰이킹을 통해 최적화할 수 있습니다.

```
import { debounce } from 'lodash';

```

### 3. 번들 크기 분석 및 최적화

웹팩의 `webpack-bundle-analyzer` 플러그인은 번들의 크기를 시각적으로 분석할 수 있게 도와줍니다. 이를 통해 번들에서 차지하는 비중이 큰 라이브러리나 모듈을 쉽게 파악하고, 불필요한 부분을 최적화할 수 있습니다. 실제 프로젝트에서는 번들을 분석한 후 중복된 모듈을 제거하거나 대체 라이브러리를 적용해 번들 크기를 줄일 수 있었습니다.

### 결론

웹팩의 코드 분할과 트리 셰이킹은 성능 최적화에 필수적인 기법입니다. 이 두 가지 기능을 적극적으로 활용하면 초기 로딩 속도를 개선하고, 불필요한 자바스크립트 코드를 줄여 네트워크 비용을 절감할 수 있습니다. 또한, `webpack-bundle-analyzer` 같은 도구를 사용해 번들 크기를 분석하고 최적화하는 것도 성능 향상에 큰 도움이 됩니다. 앞으로의 프로젝트에서도 이러한 최적화 기법을 꾸준히 적용해 웹 성능을 높이는 데 집중해 보세요.
