---
title: 로그아웃 시 PATCH 방식과 DELETE 방식의 비교
date: '2024-04-09'
tags: [기술노트]
draft: false
summary: '사용자가 로그아웃할 때 서버로 요청을 보내는 방법은 크게 두 가지로 나눌 수 있습니다: PATCH 방식과 DELETE 방식. 두 방식 모두 RESTful API에서 자주 사용되며, 각각의 장단점이 있습니다. 이 문서에서는 로그아웃을 구현할 때 이 두 가지 방법을 비교하고, 어떤 상황에서 각각의 방식이 적합한지 살펴보겠습니다.'
---

## 1. PATCH 방식으로 로그아웃
### PATCH 메서드란?
PATCH 메서드는 자원의 일부분을 수정할 때 사용됩니다. 로그아웃을 처리할 때는 사용자의 상태를 '로그아웃'으로 변경하는 방식으로 구현할 수 있습니다. 즉, 서버에 사용자의 상태를 '활성'에서 '비활성' 혹은 '로그인'에서 '로그아웃'으로 업데이트하는 요청을 보내는 것입니다.

### PATCH 방식의 예시
```javascript
// 클라이언트에서 로그아웃 요청 (PATCH)
const logout = async () => {
  const response = await fetch('/api/logout', {
    method: 'PATCH',
    headers: {
      Authorization: `Bearer ${token}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ status: 'logged_out' }),
  });

  if (response.ok) {
    localStorage.removeItem('authToken');
    console.log('로그아웃 성공');
  } else {
    console.error('로그아웃 실패');
  }
};
```

### PATCH 방식의 특징
- **부분 업데이트**: 자원의 일부만 수정하므로 효율적입니다.
- **유연한 상태 관리**: 로그아웃뿐만 아니라 사용자 상태를 여러 가지로 관리할 때 적합합니다.
- **데이터 유지**: 사용자의 세션 데이터를 보존하거나 이후에 다시 활성화가 필요한 경우 유용합니다.

### PATCH 방식의 장점
- **부분적인 상태 업데이트**: 전체 자원을 교체할 필요 없이 효율적으로 상태를 변경할 수 있습니다.
- **상태 전환에 유리**: 다양한 상태를 유연하게 처리할 수 있습니다.
- **다양한 시나리오에 적합**: 로그아웃 상태를 기록하거나 상태 전환이 필요한 경우 유용합니다.

### PATCH 방식의 단점
- **자원 제거가 아님**: 사용자가 로그아웃 후에도 서버에 세션이나 인증 정보가 남아 있을 수 있어 자원 낭비나 보안 위험이 발생할 수 있습니다.

---

## 2. DELETE 방식으로 로그아웃
### DELETE 메서드란?
DELETE 메서드는 자원을 삭제할 때 사용됩니다. 로그아웃을 처리할 때는 사용자의 세션이나 인증 토큰을 삭제하는 방식으로 구현할 수 있습니다. 즉, 서버에서 사용자의 세션이나 토큰이 삭제되며, 더 이상 인증된 요청을 할 수 없게 됩니다.

### DELETE 방식의 예시
```javascript
// 클라이언트에서 로그아웃 요청 (DELETE)
const logout = async () => {
  const response = await fetch('/api/logout', {
    method: 'DELETE',
    headers: {
      Authorization: `Bearer ${token}`,
    },
  });

  if (response.ok) {
    localStorage.removeItem('authToken');
    console.log('로그아웃 성공');
  } else {
    console.error('로그아웃 실패');
  }
};
```

### DELETE 방식의 특징
- **자원 삭제**: 사용자의 세션이나 인증 토큰을 서버에서 완전히 삭제합니다.
- **보안에 유리**: 로그아웃 후에는 인증 정보가 삭제되어 추가적인 보안 강화를 제공합니다.
- **클린업 처리**: 불필요한 데이터를 삭제하여 서버 자원을 효율적으로 관리합니다.

### DELETE 방식의 장점
- **자원 제거**: 로그아웃 후 세션이나 인증 정보를 완전히 삭제하여 접근을 차단할 수 있습니다.
- **보안 강화**: 인증 관련 보안 위험을 최소화할 수 있습니다.
- **자원 관리 최적화**: 서버에 불필요한 데이터를 남기지 않습니다.

### DELETE 방식의 단점
- **부분 업데이트가 불가**: 세션 상태를 유지해야 하는 경우 부적합합니다.
- **데이터 복구 어려움**: 데이터를 삭제한 후 복구가 어렵습니다.

---

## 3. PATCH vs DELETE 비교

| 특징               | PATCH 방식                           | DELETE 방식                          |
|--------------------|------------------------------------|------------------------------------|
| **사용 목적**      | 자원의 일부를 수정 (상태 전환)         | 자원 전체를 삭제 (세션, 토큰 삭제)      |
| **상태 관리**      | 다양한 상태로 유연하게 전환 가능         | 자원 삭제로 상태 변경보다는 종료 처리     |
| **보안성**         | 자원을 유지하므로, 일부 세션 데이터가 남을 수 있음 | 세션 삭제로 자원 접근 불가                |
| **자원 관리**      | 상태만 변경하여 자원이 남을 수 있음      | 인증 정보를 삭제하여 자원 효율적 관리       |
| **적합한 상황**    | 상태를 기록하거나 유연하게 처리할 때      | 인증 정보를 완전히 삭제하여 처리할 때       |

---

## 결론
- **PATCH 방식**은 상태 관리가 중요한 애플리케이션에서 유용하며, 사용자의 로그아웃 상태를 기록하거나 유연하게 상태를 전환해야 할 때 적합합니다.
- **DELETE 방식**은 보안과 자원 관리를 중시하는 환경에서 유리하며, 로그아웃 시 세션이나 인증 정보를 완전히 삭제해야 할 때 적합합니다.

구현 목적과 요구 사항에 따라 두 방식 중 적합한 방법을 선택하여 사용하는 것이 중요합니다.
