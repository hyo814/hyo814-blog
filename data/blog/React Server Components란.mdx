---
title: React Server Components란
date: '2024-06-14'
tags: [Server]
draft: false
summary: 'React Server Components'
---

# React Server Components란?

React의 Server Components의 개념을 설명하고, 기존의 Client Components와 비교했을 때 어떤 이점과 단점이 있는지 말씀해주세요. Server Components를 사용하여 React 애플리케이션의 성능을 최적화하는 방법과 발생할 수 있는 제약 사항이나 고려해야 할 점에 대해 설명해주세요.

​

질문의도 입니다!

​

React Server Components의 개념과 기존 Client Components와의 차이점을 이해하고 있는지를 평가합니다. 서버에서의 렌더링을 통해 성능 최적화를 어떻게 달성할 수 있는지, 그리고 이를 도입할 때 발생할 수 있는 제약 사항이나 구현 시 고려할 점을 설명할 수 있는지를 확인하는 문제입니다.

---

### React의 Server Components 개념

React Server Components(RSC)는 서버에서 컴포넌트를 렌더링하여 클라이언트로 전송하는 React의 새로운 기능입니다. 즉, 일부 컴포넌트를 클라이언트에서 실행하지 않고, 서버에서 렌더링하여 최종 HTML 결과물만 클라이언트로 보내는 방식입니다. 이는 서버와 클라이언트 간의 역할을 더 세분화하여, 서버 측에서 가능한 모든 작업을 처리함으로써 클라이언트의 부담을 줄이는 데 중점을 둡니다.

### Client Components와의 차이점

- **Client Components**: 모든 로직과 렌더링을 클라이언트 측에서 처리합니다. 클라이언트 측에서 실행되기 때문에 브라우저가 JavaScript를 로드하고 실행한 이후에야 컴포넌트가 동작합니다.
- **Server Components**: 서버에서 컴포넌트를 렌더링한 결과를 클라이언트로 전송합니다. 클라이언트에서는 이미 완성된 HTML을 받기 때문에 자바스크립트 로딩과 실행을 기다릴 필요가 없습니다.

### 이점

1. **성능 최적화**: 서버에서 컴포넌트를 렌더링하면 클라이언트로 전달되는 자바스크립트 번들의 크기가 줄어들어 초기 로딩 속도가 빨라집니다.
2. **SEO 개선**: 서버에서 미리 HTML을 제공하기 때문에 검색 엔진 크롤러가 더 쉽게 페이지를 읽고 인덱싱할 수 있어 SEO 측면에서 유리합니다.
3. **리소스 효율성**: 클라이언트에서 굳이 처리할 필요가 없는 로직이나 데이터 fetching 작업을 서버에서 수행하기 때문에, 클라이언트 자원을 절약할 수 있습니다.
4. **분리된 관심사**: 서버에서 데이터를 처리하고 클라이언트에서는 UI를 집중해서 다루는 방식으로, 관심사의 분리가 더욱 명확해집니다.

### 단점 및 제약 사항

1. **서버 의존성**: 서버가 다운되거나 느려지면, 클라이언트에서 해당 컴포넌트를 사용할 수 없으므로 사용자 경험이 악화될 수 있습니다.
2. **상태 관리 복잡성**: 클라이언트 컴포넌트와 서버 컴포넌트 간의 상태 공유가 제한적이기 때문에, 상태 관리 로직이 복잡해질 수 있습니다.
3. **서버와 클라이언트 간의 통신 비용**: 서버에서 렌더링된 HTML을 클라이언트로 보내는 과정에서 네트워크 비용이 발생할 수 있으며, 반응성 있는 UI의 경우 클라이언트 측에서 추가 작업이 필요합니다.
4. **사용 제한**: 서버 컴포넌트는 클라이언트에서 사용되는 모든 브라우저 API나 이벤트 처리 등을 직접적으로 사용할 수 없습니다. 이로 인해 클라이언트 컴포넌트에 비해 기능적인 제약이 따릅니다.

### 성능 최적화 방법

1. **데이터 패칭 최적화**: 데이터를 서버에서 미리 패칭하여 클라이언트로 전달하면, 클라이언트 측에서는 별도의 API 호출 없이도 데이터를 즉시 사용할 수 있어 성능을 향상시킬 수 있습니다.
2. **자바스크립트 번들 크기 감소**: 서버에서 컴포넌트를 처리하고 클라이언트로 전송하는 방식으로 클라이언트 측에서 불필요한 자바스크립트를 줄이고 로드 시간을 개선할 수 있습니다.
3. **동적 콘텐츠 처리**: 동적으로 변경되는 데이터를 서버에서 처리하고 클라이언트로 결과만 전송하여, 클라이언트의 처리 부담을 줄입니다.

### 구현 시 고려해야 할 점

1. **네트워크 지연 시간**: 서버에서 렌더링된 컴포넌트를 받아오는 데 필요한 네트워크 시간이 추가되므로, 적절한 캐싱 전략이 필요할 수 있습니다.
2. **서버 성능**: 서버가 많은 컴포넌트를 렌더링해야 하므로 서버 성능을 고려해야 합니다. 특히 트래픽이 많을 경우 서버 자원의 부담이 클 수 있습니다.
3. **하이브리드 아키텍처**: Server Components와 Client Components를 적절히 혼합하여 사용하는 것이 중요합니다. 모든 컴포넌트를 서버에서 처리하기보다는, 상호작용이 필요한 컴포넌트는 클라이언트에서 처리하고, 그렇지 않은 컴포넌트는 서버에서 처리하는 방식으로 유연하게 설계해야 합니다.

### 결론

React Server Components는 성능 최적화를 위한 유용한 도구이지만, 모든 경우에 적합하지는 않습니다. 클라이언트와 서버의 역할을 적절히 분리하고, 성능 향상과 사용자 경험을 함께 고려한 설계가 중요합니다.

---

### React Server Components란?

- \*React Server Components(RSC)\*\*는 React에서 제공하는 새로운 기능으로, 컴포넌트를 서버에서 렌더링하여 클라이언트로 전달하는 방식입니다. 이는 서버 측에서 컴포넌트를 렌더링함으로써 클라이언트의 부하를 줄이고, 성능을 최적화하는 데 목적을 두고 있습니다. 기존의 클라이언트 컴포넌트(Client Components)와 달리 서버에서만 실행되기 때문에, 서버와 클라이언트 간의 효율적인 역할 분담이 이루어집니다.

---

### Client Components와 Server Components 비교

### **Client Components**

- **동작 방식**: 클라이언트에서 모든 로직과 렌더링을 처리합니다.
- **특징**:
  - 자바스크립트 파일을 클라이언트로 전송하고, 클라이언트 측에서 해당 파일을 실행하여 화면을 그립니다.
  - 사용자 상호작용이나 동적인 UI 처리를 위한 브라우저 API 사용이 가능합니다.

### **Server Components**

- **동작 방식**: 컴포넌트를 서버에서 미리 렌더링하여 HTML 결과를 클라이언트에 전송합니다.
- **특징**:
  - 클라이언트에서는 서버가 전달한 HTML을 바로 렌더링할 수 있어 초기 로딩 성능이 개선됩니다.
  - 서버에서 모든 데이터 패칭과 로직 처리가 이루어지기 때문에, 클라이언트는 이를 단순히 출력하기만 합니다.

---

### React Server Components의 이점

1. **성능 최적화**: 서버에서 컴포넌트를 렌더링하면, 클라이언트로 전송되는 자바스크립트 번들의 크기가 줄어듭니다. 이는 초기 로딩 속도를 크게 개선하며, 특히 네트워크가 느린 환경에서 이점이 큽니다.
2. **SEO 향상**: Server Components는 서버에서 완전한 HTML을 생성하여 클라이언트로 보내기 때문에, 검색 엔진이 해당 페이지를 더 쉽게 크롤링하고 인덱싱할 수 있어 SEO에 유리합니다.
3. **리소스 절약**: 클라이언트 측에서 처리할 필요가 없는 작업(데이터 패칭, 비동기 작업 등)을 서버에서 미리 수행하여 클라이언트의 자원 소모를 줄입니다. 결과적으로 클라이언트는 단순히 렌더링을 처리하는 역할에 집중할 수 있습니다.
4. **서버-클라이언트 역할 분리**: 서버는 데이터를 처리하고, 클라이언트는 UI를 그리는 역할에 집중함으로써 각각의 관심사가 명확히 분리됩니다. 이는 유지 보수성과 코드 관리 측면에서도 큰 장점을 제공합니다.

---

### React Server Components의 단점 및 제약 사항

1. **서버 의존성**: 클라이언트는 서버에서 전달받은 HTML을 바탕으로 렌더링을 진행하므로, 서버가 느려지거나 다운되면 클라이언트에서의 렌더링 역시 지연되거나 중단될 수 있습니다.
2. **브라우저 API 사용 불가**: Server Components는 서버에서만 실행되므로 브라우저 API를 직접 사용할 수 없습니다. 예를 들어, 사용자 이벤트 처리나 브라우저 내 저장소(localStorage, sessionStorage 등)에 접근하는 로직은 Server Components에서 구현할 수 없습니다.
3. **상태 관리 어려움**: Server Components와 Client Components 간의 상태 공유가 복잡해질 수 있습니다. 서버에서 상태를 관리하고 이를 클라이언트로 전달하는 과정에서, 일관성 있는 상태 관리를 유지하는 것이 어려울 수 있습니다.
4. **네트워크 지연**: 서버에서 컴포넌트를 렌더링하여 클라이언트로 전달하는 과정에서 네트워크 지연이 발생할 수 있으며, 이러한 지연은 사용자 경험에 부정적인 영향을 미칠 수 있습니다. 특히 실시간 반응성이 중요한 애플리케이션에서는 주의해야 합니다.

---

### 성능 최적화 방법

1. **데이터 패칭 최적화**: 서버에서 데이터를 미리 가져와서 렌더링하기 때문에 클라이언트는 추가적인 API 호출 없이 데이터를 즉시 사용할 수 있습니다. 이를 통해 초기 로딩 성능을 크게 개선할 수 있습니다.
2. **자바스크립트 번들 크기 줄이기**: 클라이언트에 필요한 자바스크립트 파일 크기를 줄여 전송량을 감소시키면, 네트워크 전송 속도가 개선되고 로딩 시간이 단축됩니다.
3. **서버 렌더링을 통한 동적 콘텐츠 처리**: 서버에서 동적으로 데이터를 처리하고 이를 HTML로 변환해 전달하기 때문에, 클라이언트는 복잡한 비즈니스 로직을 처리하지 않고도 최종 결과만 화면에 표시할 수 있습니다.

---

### 구현 시 고려해야 할 점

1. **네트워크 지연 관리**: 서버 렌더링 과정에서 발생하는 네트워크 지연은 사용자 경험에 영향을 미칠 수 있습니다. 따라서 캐싱 전략을 잘 설계하여 네트워크 지연을 최소화해야 합니다.
2. **서버 성능 최적화**: 서버가 많은 컴포넌트를 렌더링하게 되면 서버 자원이 많이 소모됩니다. 특히 고트래픽 상황에서는 서버의 성능을 최적화하는 것이 중요합니다.
3. **하이브리드 아키텍처**: 모든 컴포넌트를 Server Components로 처리하는 것이 아니라, 상호작용이 필요한 부분은 Client Components로 처리하고, 그렇지 않은 부분만 Server Components로 처리하는 **하이브리드 아키텍처**를 채택하는 것이 효율적입니다.

---

### 결론

React Server Components는 성능 최적화와 SEO 향상에 큰 강점을 지니고 있지만, 사용에 앞서 서버 성능과 클라이언트 상호작용 등 다양한 제약 사항을 고려해야 합니다. Server Components와 Client Components를 적절히 혼합하여 사용하는 것이 React 애플리케이션 성능 최적화의 핵심입니다.
