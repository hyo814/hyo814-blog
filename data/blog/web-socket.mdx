---
title: Web Socket
date: '2024-01-15'
tags: [socket]
draft: false
summary: '웹 소켓'
---


# 웹소켓(WebSocket)

웹소켓(WebSocket)은 웹에서 실시간 양방향 통신을 가능하게 하는 기술입니다. 이 기술을 이용하면 서버와 클라이언트가 지속적인 연결을 유지하면서 데이터를 실시간으로 교환할 수 있습니다. 웹소켓은 특히 실시간 채팅 앱, 게임, 라이브 스포츠 업데이트 등에 유용합니다.

## 웹소켓의 특징

- **실시간 통신:** 클라이언트와 서버 간의 지속적인 연결을 통해 실시간 데이터 교환이 가능합니다.
- **양방향 통신:** 데이터를 서버에서 클라이언트로, 클라이언트에서 서버로 동시에 전송할 수 있습니다.
- **효율적인 자원 사용:** HTTP 폴링 방식에 비해 서버 자원과 대역폭을 효율적으로 사용합니다.

## 웹소켓 프로토콜

웹소켓 프로토콜은 클라이언트와 서버 간의 하나의 연결을 시작할 때 사용되는 핸드셰이크를 기반으로 합니다. 이 초기 핸드셰이크 이후, 웹소켓 연결은 지속적으로 열려있으며 데이터를 양방향으로 전송할 수 있습니다.

## 사용 예제

웹소켓을 사용하는 기본적인 코드 예제는 다음과 같습니다:

```javascript
// 클라이언트 사이드
const socket = new WebSocket('ws://example.com/socket');

socket.onopen = function(event) {
    console.log('Connection established');
};

socket.onmessage = function(event) {
    console.log('Received data: ' + event.data);
};

socket.onclose = function(event) {
    console.log('Connection closed');
};
```

```python
# 서버 사이드 (Python을 사용할 경우)
import websocket

def on_message(ws, message):
    print("Received: " + message)

def on_error(ws, error):
    print(error)

def on_close(ws):
    print("### closed ###")

if __name__ == "__main__":
    websocket.enableTrace(True)
    ws = websocket.WebSocketApp("ws://example.com/socket",
                                on_message = on_message,
                                on_error = on_error,
                                on_close = on_close)
    ws.run_forever()
```

위 예제는 간단한 웹소켓 연결과 데이터 교환 방법을 보여줍니다.


- **WebSocket API (MDN Web Docs)**: [WebSocket API](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)
- **WebSocket Protocol (RFC 6455)**: [WebSocket Protocol](https://tools.ietf.org/html/rfc6455)
