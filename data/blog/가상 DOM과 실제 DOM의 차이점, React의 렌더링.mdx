# 가상 DOM과 실제 DOM의 차이점, React의 렌더링 성능 최적화

9월 7일 프론트엔드 문제입니다!

​

가상 DOM의 동작 원리를 설명하고, 실제 DOM과의 차이점을 설명해 주세요. 또한, Virtual DOM을 사용하는 React의 렌더링 성능 최적화 방식에 대해 설명하고, shouldComponentUpdate 또는 React.memo와 같은 기법이 어떤 역할을 하는지 설명하세요.

​

질문의도 입니다!

​

가상 DOM(Virtual DOM)의 개념과 실제 DOM의 차이점 과 React의 렌더링 최적화 방식에 대해서 이해하고 있는지 확인하기 위함입니다. 또한 shouldComponentUpdate나 React.memo와 같은 최적화 기법을 통해 어떻게 불필요한 리렌더링을 방지하는지 확인하려는 의도입니다.

---

### 모범 답안

**가상 DOM(Virtual DOM)의 동작 원리와 실제 DOM과의 차이점:**

가상 DOM(Virtual DOM)은 메모리 내에서 실제 DOM을 추상화한 객체입니다. React는 UI 업데이트 시 매번 실제 DOM을 조작하는 대신 가상 DOM을 먼저 업데이트한 후, 이를 실제 DOM과 비교(diffing)하여 필요한 최소한의 변경 사항만 실제 DOM에 반영합니다. 이렇게 함으로써 성능 저하를 줄이고, 브라우저의 성능을 극대화할 수 있습니다.

**실제 DOM과의 차이점:**

- **실제 DOM**은 HTML 요소를 브라우저에서 렌더링하고 조작하는 구조로, 변경 시 전체 DOM을 다시 렌더링해야 하므로 성능이 저하될 수 있습니다.
- **가상 DOM**은 메모리에서만 존재하는 가벼운 구조로, 변경 사항을 추적하고, 효율적으로 업데이트합니다. React는 가상 DOM을 이용해 변경된 부분만 실제 DOM에 반영하여 불필요한 렌더링을 방지합니다.

**React의 렌더링 성능 최적화 방식:**

React는 UI 업데이트 시 가상 DOM을 사용해 렌더링 성능을 최적화합니다. 그 과정에서 **diffing 알고리즘**을 사용해 이전 가상 DOM과 새로운 가상 DOM을 비교하여 변경된 부분만 실제 DOM에 반영합니다. 이 방식은 DOM 조작 비용을 줄이고, 효율적인 업데이트를 가능하게 합니다. 또한, React는 **재조정(Reconciliation)** 과정을 통해 변경 사항을 최소화하여 성능을 최적화합니다.

**shouldComponentUpdate와 React.memo의 역할:**

- **shouldComponentUpdate**는 클래스형 컴포넌트에서 사용되며, 컴포넌트가 리렌더링될 필요가 있는지 판단하는 메서드입니다. 이 메서드를 통해 특정 조건에서만 컴포넌트를 리렌더링할 수 있도록 하여 불필요한 리렌더링을 방지합니다. 이를 활용하면 컴포넌트 성능을 최적화할 수 있습니다.
- **React.memo**는 함수형 컴포넌트의 성능을 최적화하는 데 사용됩니다. React.memo는 컴포넌트를 메모이제이션하여 props가 변경되지 않는 한 해당 컴포넌트를 리렌더링하지 않도록 합니다. 이를 통해 불필요한 리렌더링을 방지하고, 성능을 개선할 수 있습니다.

---

프론트엔드 개발에서 중요한 성능 최적화 중 하나는 DOM 조작을 어떻게 효율적으로 처리하느냐입니다. React는 이를 해결하기 위해 **가상 DOM(Virtual DOM)** 개념을 도입했습니다.

### **가상 DOM이란?**

가상 DOM은 브라우저의 실제 DOM과 달리 메모리에서 관리되는 가벼운 객체입니다. React는 UI가 업데이트될 때마다 가상 DOM을 갱신하고, 실제 DOM과 비교하여 달라진 부분만 반영하는 방식으로 성능을 최적화합니다.

### **실제 DOM과의 차이점**

- **실제 DOM**: 브라우저가 직접적으로 관리하는 구조로, UI 변경 시 전체 DOM을 다시 렌더링해야 하는 경우가 많아 성능에 영향을 미칩니다.
- **가상 DOM**: 메모리에서 관리되며, 변경된 부분만 효율적으로 실제 DOM에 반영하므로 성능이 훨씬 향상됩니다.

### **React의 렌더링 성능 최적화 방식**

React는 가상 DOM을 통해 UI가 변경될 때마다 실제 DOM을 직접 갱신하지 않고, 메모리에서 변경 사항을 처리한 후 최소한의 DOM 조작만 수행합니다. 이를 통해 렌더링 성능을 최적화하는데, 이 과정에서 **diffing 알고리즘**과 **재조정(Reconciliation)**이라는 과정을 사용합니다.

### **shouldComponentUpdate와 React.memo로 리렌더링 방지**

성능 최적화를 위해 React에서는 컴포넌트의 불필요한 리렌더링을 방지할 수 있는 몇 가지 기법을 제공합니다.

- **shouldComponentUpdate**: 클래스형 컴포넌트에서 사용되는 메서드로, 컴포넌트가 다시 렌더링될 필요가 있는지를 결정합니다. 이를 통해 조건에 맞지 않으면 렌더링을 방지해 성능을 최적화할 수 있습니다.
- **React.memo**: 함수형 컴포넌트의 성능을 최적화하기 위한 도구입니다. 컴포넌트를 메모이제이션하여 동일한 props를 받을 때 컴포넌트가 리렌더링되지 않도록 합니다.

이러한 기법들은 리렌더링을 최소화하여 더 나은 사용자 경험을 제공하며, 특히 대규모 애플리케이션에서 성능을 크게 개선할 수 있습니다.
